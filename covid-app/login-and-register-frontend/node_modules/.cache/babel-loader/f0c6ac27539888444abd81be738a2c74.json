{"ast":null,"code":"import axios from 'axios';\nconst url = 'https://covid19.mathdro.id/api';\nexport const fetchData = async country => {\n  let changeableUrl = url;\n\n  if (country) {\n    changeableUrl = `${url}/countries/${country}`;\n  }\n\n  try {\n    const {\n      data: {\n        confirmed,\n        deaths,\n        lastUpdate\n      }\n    } = await axios.get(changeableUrl);\n    return {\n      confirmed,\n      deaths,\n      lastUpdate\n    };\n  } catch (error) {\n    return error;\n  }\n};\nexport const fetchDailyData = async () => {\n  try {\n    const {\n      data\n    } = await axios.get(`${url}/daily`);\n    return data.map(({\n      confirmed,\n      deaths,\n      reportDate: date\n    }) => ({\n      confirmed: confirmed.total,\n      deaths: deaths.total,\n      date\n    }));\n  } catch (error) {\n    return error;\n  }\n};\nexport const fetchCountries = async () => {\n  try {\n    const {\n      data: {\n        countries\n      }\n    } = await axios.get(`${url}/countries`);\n    return countries.map(country => country.name);\n  } catch (error) {\n    return error;\n  }\n};\nexport const fetchStates = async country => {\n  try {\n    const {\n      data\n    } = await axios.get(`${url}/countries/${country.country}/confirmed`);\n    return data.map(stateData => ({\n      provinceState: stateData.provinceState,\n      confirmed: stateData.confirmed,\n      active: stateData.active,\n      deaths: stateData.deaths\n    }));\n  } catch (error) {\n    return error;\n  }\n};","map":{"version":3,"sources":["C:/Users/sudha/Desktop/project-covid19tracker-master/login-and-register-frontend/src/components/api/index.js"],"names":["axios","url","fetchData","country","changeableUrl","data","confirmed","deaths","lastUpdate","get","error","fetchDailyData","map","reportDate","date","total","fetchCountries","countries","name","fetchStates","stateData","provinceState","active"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAG,gCAAZ;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAOC,OAAP,IAAmB;AAC1C,MAAIC,aAAa,GAAGH,GAApB;;AAEA,MAAIE,OAAJ,EAAa;AACXC,IAAAA,aAAa,GAAI,GAAEH,GAAI,cAAaE,OAAQ,EAA5C;AACD;;AAED,MAAI;AACF,UAAM;AAAEE,MAAAA,IAAI,EAAE;AAAEC,QAAAA,SAAF;AAAaC,QAAAA,MAAb;AAAqBC,QAAAA;AAArB;AAAR,QAA8C,MAAMR,KAAK,CAACS,GAAN,CAAUL,aAAV,CAA1D;AAEA,WAAO;AAAEE,MAAAA,SAAF;AAAaC,MAAAA,MAAb;AAAqBC,MAAAA;AAArB,KAAP;AACD,GAJD,CAIE,OAAOE,KAAP,EAAc;AACd,WAAOA,KAAP;AACD;AACF,CAdM;AAgBP,OAAO,MAAMC,cAAc,GAAG,YAAY;AACxC,MAAI;AACF,UAAM;AAAEN,MAAAA;AAAF,QAAW,MAAML,KAAK,CAACS,GAAN,CAAW,GAAER,GAAI,QAAjB,CAAvB;AAEA,WAAOI,IAAI,CAACO,GAAL,CAAS,CAAC;AAAEN,MAAAA,SAAF;AAAaC,MAAAA,MAAb;AAAqBM,MAAAA,UAAU,EAAEC;AAAjC,KAAD,MAA8C;AAAER,MAAAA,SAAS,EAAEA,SAAS,CAACS,KAAvB;AAA8BR,MAAAA,MAAM,EAAEA,MAAM,CAACQ,KAA7C;AAAoDD,MAAAA;AAApD,KAA9C,CAAT,CAAP;AACD,GAJD,CAIE,OAAOJ,KAAP,EAAc;AACd,WAAOA,KAAP;AACD;AACF,CARM;AAUP,OAAO,MAAMM,cAAc,GAAG,YAAY;AACxC,MAAI;AACF,UAAM;AAAEX,MAAAA,IAAI,EAAE;AAAEY,QAAAA;AAAF;AAAR,QAA0B,MAAMjB,KAAK,CAACS,GAAN,CAAW,GAAER,GAAI,YAAjB,CAAtC;AAEA,WAAOgB,SAAS,CAACL,GAAV,CAAeT,OAAD,IAAaA,OAAO,CAACe,IAAnC,CAAP;AACD,GAJD,CAIE,OAAOR,KAAP,EAAc;AACd,WAAOA,KAAP;AACD;AACF,CARM;AAUP,OAAO,MAAMS,WAAW,GAAG,MAAOhB,OAAP,IAAmB;AAC5C,MAAI;AACF,UAAM;AAAEE,MAAAA;AAAF,QAAW,MAAML,KAAK,CAACS,GAAN,CAAW,GAAER,GAAI,cAAaE,OAAO,CAACA,OAAQ,YAA9C,CAAvB;AACA,WAAOE,IAAI,CAACO,GAAL,CAAUQ,SAAD,KAAgB;AAAEC,MAAAA,aAAa,EAAED,SAAS,CAACC,aAA3B;AAA0Cf,MAAAA,SAAS,EAAEc,SAAS,CAACd,SAA/D;AAA0EgB,MAAAA,MAAM,EAAEF,SAAS,CAACE,MAA5F;AAAoGf,MAAAA,MAAM,EAACa,SAAS,CAACb;AAArH,KAAhB,CAAT,CAAP;AACD,GAHD,CAGE,OAAOG,KAAP,EAAc;AACd,WAAOA,KAAP;AACD;AAEF,CARM","sourcesContent":["import axios from 'axios';\n\nconst url = 'https://covid19.mathdro.id/api';\n\nexport const fetchData = async (country) => {\n  let changeableUrl = url;\n\n  if (country) {\n    changeableUrl = `${url}/countries/${country}`;\n  }\n\n  try {\n    const { data: { confirmed, deaths, lastUpdate } } = await axios.get(changeableUrl);\n\n    return { confirmed, deaths, lastUpdate };\n  } catch (error) {\n    return error;\n  }\n};\n\nexport const fetchDailyData = async () => {\n  try {\n    const { data } = await axios.get(`${url}/daily`);\n\n    return data.map(({ confirmed, deaths, reportDate: date }) => ({ confirmed: confirmed.total, deaths: deaths.total, date }));\n  } catch (error) {\n    return error;\n  }\n};\n\nexport const fetchCountries = async () => {\n  try {\n    const { data: { countries } } = await axios.get(`${url}/countries`);\n\n    return countries.map((country) => country.name);\n  } catch (error) {\n    return error;\n  }\n};\n\nexport const fetchStates = async (country) => {\n  try {\n    const { data } = await axios.get(`${url}/countries/${country.country}/confirmed`);\n    return data.map((stateData) => ({ provinceState: stateData.provinceState, confirmed: stateData.confirmed, active: stateData.active, deaths:stateData.deaths}));\n  } catch (error) {\n    return error;\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}